"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class StorageFacade {
    constructor(storage, storageKey, initialState) {
        this.storage = storage;
        this.storageKey = storageKey;
        if (!!initialState) {
            this.setState(initialState);
        }
    }
    getState() {
        const stateJSON = this.storage.getItem(this.storageKey);
        return JSON.parse(stateJSON || '{}') || {};
    }
    setState(newState) {
        const currentState = this.getState();
        const mergedState = Object.assign(Object.assign({}, currentState), newState);
        this.storage.setItem(this.storageKey, JSON.stringify(mergedState));
    }
    purgeState() {
        this.storage.removeItem(this.storageKey);
    }
}
exports.StorageFacade = StorageFacade;
//# sourceMappingURL=StorageFacade.js.map